<idea-plugin>
  <idea-version/>
  <id>com.jetbrains.bash</id>
  <vendor email="ignatov@jetbrains.com">Sergey Ignatov</vendor>
  <depends>com.intellij.modules.lang</depends>
  <depends optional="true" config-file="terminal.xml">org.jetbrains.plugins.terminal</depends>
  <name>Shell Script</name>
  <description><![CDATA[
    <p>Shell Script support for IntelliJ IDEA, RubyMine, WebStorm, etc.</p>
    ]]></description>
  <extensions defaultExtensionNs="com.intellij">
    <fileTypeFactory implementation="com.intellij.bash.ShFileTypeFactory"/>
    <lang.parserDefinition language="Shell Script" implementationClass="com.intellij.bash.parser.ShParserDefinition"/>
    <lang.commenter language="Shell Script" implementationClass="com.intellij.bash.ShCommenter"/>
    <lang.quoteHandler language="Shell Script" implementationClass="com.intellij.bash.ShQuoteHandler"/>
    <backspaceHandlerDelegate implementation="com.intellij.bash.ShBackspaceHandler"/>
    <editor.backspaceModeOverride language="Shell Script" implementationClass="com.intellij.bash.ShBackspaceModeOverride"/>

    <lang.psiStructureViewFactory language="Shell Script" implementationClass="com.intellij.bash.ShStructureViewFactory"/>

    <annotator language="Shell Script" implementationClass="com.intellij.bash.ShAnnotator"/>
    <colorSettingsPage implementation="com.intellij.bash.highlighter.ShColorPage"/>
    <additionalTextAttributes scheme="Default" file="colors/BashDefault.xml"/>
    <additionalTextAttributes scheme="Darcula" file="colors/BashDarcula.xml"/>

    <psi.referenceContributor implementation="com.intellij.bash.ShUrlReferenceContributor"/>

    <completion.contributor language="Shell Script" implementationClass="com.intellij.bash.completion.ShKeywordCompletionContributor" order="after bashFilePathCompletionContributor"/>
    <completion.contributor id="bashFilePathCompletionContributor" language="Shell Script" implementationClass="com.intellij.bash.completion.ShFilePathCompletionContributor"/>
    <completion.contributor language="Shell Script" implementationClass="com.intellij.bash.completion.ShCommandCompletionContributor"/>
    <lang.braceMatcher language="Shell Script" implementationClass="com.intellij.bash.ShBraceMatcher"/>
    <lang.documentationProvider language="Shell Script" implementationClass="com.intellij.bash.ShDocumentationProvider"/>
    <runLineMarkerContributor language="Shell Script" implementationClass="com.intellij.bash.run.ShRunLineMarkerContributor"/>

    <defaultLiveTemplatesProvider implementation="com.intellij.bash.template.ShTemplateProvider"/>
    <liveTemplateContext implementation="com.intellij.bash.template.ShContextType"/>
    <lineIndentProvider implementation="com.intellij.bash.formatter.ShLineIndentProvider"/>
    <langCodeStyleSettingsProvider implementation="com.intellij.bash.codeStyle.ShLanguageCodeStyleSettingsProvider"/>

    <externalFormatProcessor implementation="com.intellij.bash.formatter.ShExternalFormatter"/>
    <lang.formatter language="Shell Script" implementationClass="com.intellij.bash.formatter.ShFormatterModelBuilder"/>
    <postFormatProcessor implementation="com.intellij.bash.formatter.ShPostFormatProcessor"/>

    <editorNotificationProvider implementation="com.intellij.bash.shellcheck.ShellcheckSetupNotificationProvider"/>

    <registryKey key="bash.shellcheck.path"/>
    <externalAnnotator language="Shell Script" implementationClass="com.intellij.bash.shellcheck.ShShellcheckExternalAnnotator"/>
    <localInspection language="Shell Script" groupName="Shell Script" shortName="ShellCheck" displayName="ShellCheck" enabledByDefault="true"
                     level="ERROR" unfair="true" implementationClass="com.intellij.bash.shellcheck.ShShellcheckInspection"/>

    <fileTypeDetector implementation="com.intellij.bash.ShFileTypeDetector"/>
    <highlightErrorFilter implementation="com.intellij.bash.ShErrorFilter"/>
    <daemon.highlightInfoFilter implementation="com.intellij.bash.ShErrorFilter"/>

    <highlightUsagesHandlerFactory implementation="com.intellij.bash.highlighting.ShOccurrencesHighlightingFactory"/>
    <renameHandler implementation="com.intellij.bash.ShRenameHandler"/>

    <intentionAction>
      <className>com.intellij.bash.rename.ShRenameIntention</className>
      <category>Shell Script</category>
    </intentionAction>
  </extensions>
  <actions>
    <action id="runShellFileAction" class="com.intellij.bash.run.ShRunFileAction" text="Run File"
            description="Run current shell file in the terminal" use-shortcut-of="RunClass"/>
  </actions>
</idea-plugin>

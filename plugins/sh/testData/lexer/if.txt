Shebang ('#!/bin/bash\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
EXPR_CONDITIONAL_LEFT ('[ ')
string_begin ('"')
string_content ('foo')
string_end ('"')
WHITE_SPACE (' ')
cond_op ('=')
WHITE_SPACE (' ')
string_begin ('"')
string_content ('foo')
string_end ('"')
EXPR_CONDITIONAL_RIGHT (' ]')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('echo')
WHITE_SPACE (' ')
int ('1')
\n ('\n')
fi ('fi')
; (';')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
EXPR_CONDITIONAL_LEFT ('[ ')
string_begin ('"')
string_content ('foo')
string_end ('"')
WHITE_SPACE (' ')
cond_op ('=')
WHITE_SPACE (' ')
string_begin ('"')
string_content ('foo')
string_end ('"')
EXPR_CONDITIONAL_RIGHT (' ]')
; (';')
WHITE_SPACE (' ')
then ('then')
WHITE_SPACE (' ')
word ('echo')
WHITE_SPACE (' ')
int ('2')
\n ('\n')
fi ('fi')
; (';')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
EXPR_CONDITIONAL_LEFT ('[ ')
cond_op ('-e')
WHITE_SPACE (' ')
word ('/etc/software.properties')
EXPR_CONDITIONAL_RIGHT (' ]')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('echo')
WHITE_SPACE (' ')
STRING2 ('''')
WHITE_SPACE (' ')
>> ('>>')
WHITE_SPACE (' ')
word ('/opt/buildAgent/conf/buildAgent.properties')
\n ('\n')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('cat')
WHITE_SPACE (' ')
word ('/etc/software.properties')
WHITE_SPACE (' ')
>> ('>>')
WHITE_SPACE (' ')
word ('/opt/buildAgent/conf/buildAgent.properties')
\n ('\n')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('rm')
WHITE_SPACE (' ')
word ('/etc/software.properties')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[[ ('[[ ')
string_begin ('"')
variable ('$VERSION_ID')
string_end ('"')
WHITE_SPACE (' ')
cond_op ('!=')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('16.04')
]] (' ]]')
\n ('\n')
then ('then')
\n ('\n')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
WHITE_SPACE (' ')
word ('dpkg')
WHITE_SPACE (' ')
word ('--list')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('awk')
WHITE_SPACE (' ')
STRING2 (''{ print $2 }'')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('grep')
WHITE_SPACE (' ')
STRING2 (''linux-image-.*-generic'')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('grep')
WHITE_SPACE (' ')
word ('-v')
WHITE_SPACE (' ')
backquote ` ('`')
word ('uname')
WHITE_SPACE (' ')
word ('-r')
backquote ` ('`')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('xargs')
WHITE_SPACE (' ')
word ('apt-get')
WHITE_SPACE (' ')
word ('-y')
WHITE_SPACE (' ')
word ('purge')
WHITE_SPACE (' ')
word ('--auto-remove')
\n ('\n')
fi ('fi')
<idea-plugin>
  <extensions defaultExtensionNs="com.intellij">
    <changesViewContent id="git.stage" tabName="Staging Area" className="git4idea.index.GitStageContentProvider"
                        predicateClassName="git4idea.index.GitStageContentVisibilityPredicate"
                        displayNameSupplierClassName="git4idea.index.GitStageDisplayNameSupplier"/>

    <projectService serviceImplementation="git4idea.index.GitStageTracker"/>
    <projectService serviceImplementation="git4idea.index.vfs.GitIndexVirtualFileCache"/>
    <projectService serviceImplementation="git4idea.index.vfs.GitIndexFileSystemRefresher"/>

    <virtualFileSystem implementationClass="git4idea.index.vfs.GitIndexFileSystem" key="gitIndexFs" physical="true"/>
  </extensions>

  <actions>
    <action id="Git.Stage.Refresh" class="git4idea.index.actions.GitRefreshStageAction" icon="AllIcons.Actions.Refresh"
            use-shortcut-of="Refresh"/>

    <group id="Git.Stage.Toolbar">
      <reference id="Git.Stage.Refresh"/>
    </group>
  </actions>
</idea-plugin>
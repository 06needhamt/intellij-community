'bugaga' ==~ /abc ${do "def ${a+b}"} fgh$st ${frg./sdf/(5)}
i = 5
-----
Groovy script
  Regex expression
    Literal
      PsiElement(string)(''bugaga'')
    PsiWhiteSpace(' ')
    PsiElement(==~)('==~')
    PsiWhiteSpace(' ')
    Compound regular expression
      PsiElement(regex begin)('/abc $')
      Open block
        PsiElement({)('{')
        Call expression
          Reference expression
            PsiElement(identifier)('do')
          PsiWhiteSpace(' ')
          Command arguments
            Compound Gstring
              PsiElement(Gstring begin)('"def $')
              Open block
                PsiElement({)('{')
                Additive expression
                  Reference expression
                    PsiElement(identifier)('a')
                  PsiElement(+)('+')
                  Reference expression
                    PsiElement(identifier)('b')
                PsiElement(})('}')
              PsiElement(Gstring end)('"')
        PsiElement(})('}')
      PsiElement(regex content)(' fgh$')
      Reference expression
        PsiElement(identifier)('st')
      PsiElement(regex content)(' $')
      Open block
        PsiElement({)('{')
        Method call
          Reference expression
            PsiElement(identifier)('frg')
          PsiElement(.)('.')
          Property selector
            PsiElement(regexp)('/sdf/')
          PsiElement(()('(')
          Arguments
            Literal
              PsiElement(number)('5')
          PsiElement())(')')
        PsiElement(})('}')
      PsiErrorElement:Regex ending expected
        <empty list>
  PsiElement(new line)('\n')
  Assignment expression
    Reference expression
      PsiElement(identifier)('i')
    PsiWhiteSpace(' ')
    PsiElement(=)('=')
    PsiWhiteSpace(' ')
    Literal
      PsiElement(number)('5')
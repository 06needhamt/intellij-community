<idea-plugin version="2">
    <id>com.jetbrains.circlet</id>
    <name>Circlet Integration</name>
    <version>0.1.dev</version>
    <vendor email="support@jetbrains.com" url="jetbrains.com">JetBrains</vendor>

    <description><![CDATA[Circlet Integration plugin]]></description>

    <change-notes><![CDATA[]]>

    </change-notes>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="173.4127.17"/>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <projectService serviceImplementation="circlet.settings.ProjectSettings"/>
        <projectService serviceImplementation="circlet.components.RepositoryComponent"/>

        <applicationConfigurable id="circlet.settings.global" groupId="tools"
                                 instance="circlet.settings.GlobalConfigurable"/>
        <projectConfigurable id="circlet.settings.connection" groupId="tools" parentId="circlet.settings.global"
                             instance="circlet.settings.ConnectionConfigurable"/>

        <toolWindow id="Circlet" anchor="bottom" canCloseContents="true"
                    factoryClass="circlet.tools.CircletToolWindowFactory"/>


    </extensions>

    <application-components>
        <component>
            <implementation-class>circlet.components.CircletApplicationComponent</implementation-class>
        </component>
        <component>
            <implementation-class>circlet.components.ConnectionsComponent</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>circlet.components.ConnectionComponent</implementation-class>
        </component>

        <component>
            <implementation-class>circlet.tools.CircletToolWindowManager</implementation-class>
        </component>
    </project-components>

    <actions>

        <action class="circlet.actions.ReEnterCredentialsAction" text="Re-enter credentials..." id="Circlet.ReEnterCredentialsAction"/>
        <action class="circlet.actions.TestCircletAction" text="Test Circlet..." id="Circlet.TestCircletAction"/>


        <!--<action id="Circlet.CloneRepoIntent" text="Clone Circlet repository" class="circlet.actions.CloneCircletRepositoryAction">-->
            <!--<add-to-group group-id="WelcomeScreen.QuickStart.IDEA" anchor="last" />-->
        <!--</action>-->

        <group text="Circlet" id="Circlet.Welcome">
            <add-to-group group-id="WelcomeScreen.Configure" anchor="first" />
            <action class="circlet.actions.CloneCircletRepositoryAction" text="Clone circlet repository" id="Circlet.CloneRepository" />
        </group>

        <group text="Circlet" id="CircletGroup" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <reference id="Circlet.ReEnterCredentialsActionRef" ref="Circlet.ReEnterCredentialsAction"/>
            <reference id="Circlet.TestCircletActionRef" ref="Circlet.TestCircletAction"/>
        </group>

        <!--<action id="Circlet.CloneRepository" class="circlet.actions.CloneCircletRepositoryAction"-->
                <!--text="Clone circlet repository" description="Here it goes">-->
            <!--<add-to-group group-id="WelcomeScreen.QuickStart.Platform" anchor="last"/>-->
        <!--</action>-->
    </actions>

</idea-plugin>

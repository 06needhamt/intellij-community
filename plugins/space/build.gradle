buildscript {
    repositories {
        maven { url 'http://dl.bintray.com/jetbrains/intellij-plugin-service' }
    }
}

plugins {
    id "org.jetbrains.intellij" version "0.1.10"
}

// temparary hack to prevent slf4j version conflict. To be fixed as soon as Zolotov is back from vacation.
gradle.taskGraph.whenReady {taskGraph ->
    project.tasks.prepareSandbox.doLast{
        def pluginName = project.intellij.pluginName
        def toDelete = "$project.rootDir/plugin/build/idea-sandbox/plugins/$pluginName/lib/slf4j-api-1.7.21.jar"
        delete toDelete
        println("delete: $toDelete")
    }
}

dependencies {
    compile project(':mp.utils')
    compile project(':client-core-jvm')

    compile 'org.glassfish.jersey.core:jersey-common:2.23'
    compile 'org.glassfish.jersey.core:jersey-client:2.23'

    compile 'nl.komponents.kovenant:kovenant:3.3.0'
    compile group: 'org.apache.commons', name: 'commons-io', version: '1.3.2'

    compile project(':kenv')
    compile project(':trecords')

    compile project(':mp.shared')
    compile project(':mp.onair.shared')


}

intellij {
    version 'IC-2016.2'
    pluginName 'Circlet Plugin'

    publish {
        username 'serjic'
        password 'password'
        channel 'nightly'
    }
}


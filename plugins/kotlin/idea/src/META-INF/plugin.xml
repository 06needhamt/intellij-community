<idea-plugin version="2">
  <name>Kotlin</name>
  <description>Kotlin language support</description>
  <version>@snapshot@</version>
  <vendor>JetBrains</vendor>

  <application-components>
  </application-components>

  <project-components>
      <component>
          <implementation-class>org.jetbrains.jet.plugin.compiler.JetCompilerManager</implementation-class>
      </component>
      <component>
          <implementation-class>org.jetbrains.jet.plugin.caches.JetCacheManager</implementation-class>
      </component>
  </project-components>

  <actions>
     <action id="Kotlin.NewFile" class="org.jetbrains.jet.plugin.actions.NewKotlinFileAction">
        <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFromTemplate"/>
     </action>

     <action id="ShowJetExpressionType" class="org.jetbrains.jet.plugin.actions.ShowExpressionTypeAction"
             text="Show Expression Type">
         <keyboard-shortcut keymap="$default" first-keystroke="control shift Q"/>
         <add-to-group group-id="CodeMenu" anchor="last"/>
     </action>
     <action id="CopyAsDiagnosticTest" class="org.jetbrains.jet.plugin.actions.CopyAsDiagnosticTestAction"
             text="Copy Current File As Diagnostic Test">
         <keyboard-shortcut keymap="$default" first-keystroke="control alt shift T"/>
         <add-to-group group-id="CodeMenu" anchor="last"/>
     </action>
     <action id="ConvertJavaToKotlin" class="org.jetbrains.jet.plugin.actions.JavaToKotlinAction"
             text="Convert Java File to Kotlin File">
         <keyboard-shortcut keymap="$default" first-keystroke="control alt shift J"/>
         <add-to-group group-id="CodeMenu" anchor="last"/>
     </action>
     <action id="ToggleJetErrorReporting" class="org.jetbrains.jet.plugin.actions.ToggleErrorReportingAction"
             text="Toggle Error Reporting">
         <keyboard-shortcut keymap="$default" first-keystroke="control alt shift E"/>
         <add-to-group group-id="CodeMenu" anchor="last"/>
     </action>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
      <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>

      <internalFileTemplate name="Kotlin File"/>

      <fileTypeFactory implementation="org.jetbrains.jet.plugin.JetFileFactory"/>
      <lang.syntaxHighlighterFactory key="jet" implementationClass="org.jetbrains.jet.plugin.JetSyntaxHighlighterFactory"/>
      <lang.braceMatcher language="jet" implementationClass="org.jetbrains.jet.plugin.JetPairMatcher"/>
      <lang.parserDefinition language="jet" implementationClass="org.jetbrains.jet.lang.parsing.JetParserDefinition"/>
      <lang.commenter language="jet" implementationClass="org.jetbrains.jet.plugin.JetCommenter"/>
      <lang.psiStructureViewFactory language="jet" implementationClass="org.jetbrains.jet.plugin.structureView.JetStructureViewFactory"/>
      <lang.foldingBuilder language="jet" implementationClass="org.jetbrains.jet.plugin.JetFoldingBuilder"/>
      <lang.formatter language="jet" implementationClass="org.jetbrains.jet.plugin.formatter.JetFormattingModelBuilder"/>
      <lang.findUsagesProvider language="jet" implementationClass="org.jetbrains.jet.plugin.findUsages.JetFindUsagesProvider"/>
      <psi.referenceContributor language="jet" implementation="org.jetbrains.jet.plugin.references.JetReferenceContributor"/>

      <codeInsight.parameterInfo language="jet" implementationClass="org.jetbrains.jet.plugin.parameterInfo.JetFunctionParameterInfoHandler"/>

      <completion.contributor language="jet" implementationClass="org.jetbrains.jet.plugin.completion.GlobalMemberCompletionContributor"/>
      <completion.contributor language="jet" implementationClass="org.jetbrains.jet.plugin.completion.JetKeywordCompletionContributor"/>
      <completion.contributor language="jet" implementationClass="org.jetbrains.jet.plugin.completion.JetCompletionContributor"/>

      <liveTemplateContext implementation="org.jetbrains.jet.plugin.liveTemplates.JetTemplateContextType$Generic"/>
      <liveTemplateContext implementation="org.jetbrains.jet.plugin.liveTemplates.JetTemplateContextType$Namespace"/>
      <defaultLiveTemplatesProvider implementation="org.jetbrains.jet.plugin.liveTemplates.JetLiveTemplatesProvider"/>

      <annotator language="jet" implementationClass="org.jetbrains.jet.plugin.annotations.SoftKeywordsAnnotator"/>
      <annotator language="jet" implementationClass="org.jetbrains.jet.plugin.annotations.LabelsAnnotator"/>
      <annotator language="jet" implementationClass="org.jetbrains.jet.plugin.annotations.JetPsiChecker"/>
      <annotator language="jet" implementationClass="org.jetbrains.jet.plugin.annotations.DebugInfoAnnotator"/>

      <documentationProvider implementation="org.jetbrains.jet.plugin.JetQuickDocumentationProvider"/>
      <configurationType implementation="org.jetbrains.jet.plugin.run.JetRunConfigurationType"/>
      <configurationProducer implementation="org.jetbrains.jet.plugin.run.JetRunConfigurationProducer"/>
      <codeInsight.lineMarkerProvider language="jet" implementationClass="org.jetbrains.jet.plugin.annotations.JetLineMarkerProvider"/>
      <iconProvider implementation="org.jetbrains.jet.plugin.JetIconProvider"/>
      <fileTypeIndentOptionsProvider implementation="org.jetbrains.jet.plugin.formatter.JetIndentOptionsProvider"/>
      <elementDescriptionProvider implementation="org.jetbrains.jet.plugin.findUsages.JetElementDescriptionProvider"/>
      <debugger.positionManagerFactory implementation="org.jetbrains.jet.plugin.debugger.JetPositionManagerFactory"/>
      <codeInsight.implementMethod language="jet" implementationClass="org.jetbrains.jet.plugin.codeInsight.ImplementMethodsHandler"/>
      <codeInsight.overrideMethod language="jet" implementationClass="org.jetbrains.jet.plugin.codeInsight.OverrideMethodsHandler"/>

      <java.elementFinder implementation="org.jetbrains.jet.asJava.JavaElementFinder"/>
      <java.shortNamesCache implementation="org.jetbrains.jet.plugin.caches.JetShortNamesCache"/>

      <editorNotificationProvider implementation="org.jetbrains.jet.plugin.quickfix.ConfigureKotlinLibraryNotificationProvider"/>

      <psi.treeChangePreprocessor implementation="org.jetbrains.jet.asJava.JetCodeBlockModificationListener"/>

      <toolWindow id="CodeWindow"
                  factoryClass="org.jetbrains.jet.plugin.internal.codewindow.BytecodeToolwindow$Factory"
                  anchor="right"/>
      <toolWindow id="ResolveWindow"
                  factoryClass="org.jetbrains.jet.plugin.internal.resolvewindow.ResolveToolwindow$Factory"
                  anchor="right"/>
  </extensions>
</idea-plugin>

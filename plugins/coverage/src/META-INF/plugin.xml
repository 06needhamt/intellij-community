<idea-plugin version="2" xmlns:xi="http://www.w3.org/2001/XInclude">
  <name>Coverage</name>
  <depends optional="true">TestNG-J</depends>
  <depends optional="true">JUnit</depends>
  <depends>com.intellij.modules.java</depends>
  <depends>com.intellij.modules.ultimate</depends>
  <depends optional="true" config-file="j2ee-plugin.xml">com.intellij.javaee</depends>
  <description>This plugin supports gathering coverage information and presenting it right in the editor as well as in the project view.
    It is also possible to generate standalone HTML reports for external use.
  </description>
  <vendor logo="/general/ijLogo.png">JetBrains</vendor>

  <xi:include href="/META-INF/coverage-impl-plugin.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <extensions defaultExtensionNs="com.intellij">
    <runConfigurationExtension implementation="com.intellij.execution.coverage.CoverageJavaRunConfigurationExtension"/>
    <!--<coverageRunner implementation="com.intellij.coverage.CoberturaCoverageRunner"/>-->
    <coverageRunner implementation="com.intellij.coverage.IDEACoverageRunner"/>
    <coverageEngine implementation="com.intellij.coverage.JavaCoverageEngine" order = "last"/>
    <projectViewNodeDecorator implementation="com.intellij.coverage.CoverageProjectViewClassNodeDecorator"/>
    <junitListener implementation="com.intellij.coverage.listeners.IDEAJUnitCoverageListener"/>

    <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>
    <projectService serviceInterface="com.intellij.coverage.JavaCoverageAnnotator"
                    serviceImplementation="com.intellij.coverage.JavaCoverageAnnotator"/>
    <projectConfigurable implementation="com.intellij.coverage.CoverageOptionsConfigurable"/>
    <projectService serviceImplementation="com.intellij.coverage.CoverageOptionsProvider"/>
  </extensions>

  <extensions defaultExtensionNs="com.theoryinpractice.testng">
    <listener implementation="com.intellij.coverage.listeners.IDEATestNGCoverageListener"/>
  </extensions>
  <extensionPoints>
    <extensionPoint qualifiedName="com.intellij.javaCoverageEngineExtension" interface="com.intellij.coverage.JavaCoverageEngineExtension"/>
  </extensionPoints>
  <project-components>
    <component>
      <interface-class>com.intellij.coverage.CoverageDataManager</interface-class>
      <implementation-class>com.intellij.coverage.CoveragePluginDataManagerImpl</implementation-class>
      <option name="workspace" value="true"/>
    </component>
  </project-components>
  <actions>
    <group id="IDEACoverageMenu" popup="false">
      <reference ref="CoverageMenu"/>
      <add-to-group group-id="AnalyzeMenu" anchor="before" relative-to-action="AnalyzeActions"/>
    </group>
  </actions>
</idea-plugin>

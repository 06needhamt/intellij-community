<idea-plugin>
    <id>com.jetbrains.packagesearch.intellij-plugin</id>
    <name>Package Search</name>
    <vendor email="package-search-support@jetbrains.com" url="https://www.jetbrains.com">JetBrains</vendor>

    <description><![CDATA[
    Find and manage dependencies for JVM and Kotlin Multiplatform projects.

    Supports Maven and Gradle projects. Please note that Gradle Kotlin build scripts arenâ€™t supported yet.
    ]]></description>

    <extensionPoints>
        <extensionPoint qualifiedName="com.intellij.packagesearch.projectModuleOperationProvider"
                        interface="com.jetbrains.packagesearch.intellij.plugin.extensibility.ProjectModuleOperationProvider"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.intellij.packagesearch.projectModuleProvider"
                        interface="com.jetbrains.packagesearch.intellij.plugin.extensibility.ProjectModuleProvider"
                        area="IDEA_PROJECT"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.intellij.packagesearch.configurableContributor"
                        interface="com.jetbrains.packagesearch.intellij.plugin.extensibility.ConfigurableContributor"
                        area="IDEA_PROJECT"
                        dynamic="true"/>
    </extensionPoints>

    <idea-version since-build="192.5728.98" until-build="202.*"/>
    <depends>com.intellij.modules.java</depends>
    <depends optional="true" config-file="plugin-withKotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="plugin-withGradle.xml">org.jetbrains.plugins.gradle</depends>
    <depends optional="true" config-file="plugin-withMaven.xml">org.jetbrains.idea.maven</depends>

    <extensions defaultExtensionNs="com.intellij">
        <codeInsight.unresolvedReferenceQuickFixProvider
                implementation="com.jetbrains.packagesearch.intellij.plugin.intentions.JavaPackageSearchQuickFixProvider"/>

        <httpRequestHandler implementation="com.jetbrains.packagesearch.intellij.plugin.ide.PackageSearchRestService"/>

        <search.optionContributor
                implementation="com.jetbrains.packagesearch.intellij.plugin.configuration.PackageSearchSearchableOptionContributor"/>

        <projectConfigurable groupId="build" displayName="Package Search"
                             id="preferences.packagesearch.PackageSearchGeneralConfigurable"
                             instance="com.jetbrains.packagesearch.intellij.plugin.configuration.ui.PackageSearchGeneralConfigurable"/>
        <projectService
                serviceImplementation="com.jetbrains.packagesearch.intellij.plugin.configuration.PackageSearchGeneralConfiguration"/>

        <projectService
                serviceImplementation="com.jetbrains.packagesearch.intellij.plugin.ui.toolwindow.PackageSearchToolWindowAvailabilityService"/>

        <toolWindow id="Packages" anchor="bottom" secondary="false"
                    icon="/icons/artifactSmall.svg"
                    canCloseContents="true"
                    factoryClass="com.jetbrains.packagesearch.intellij.plugin.ui.toolwindow.PackageSearchToolWindowFactory"/>

        <registryKey id="packagesearch.repository.mock.api"
                     key="packagesearch.repository.mock.api"
                     defaultValue="false"
                     description="Mock the package search remote API's /repositories call, and return multiple repositories."
                     restartRequired="true"/>
    </extensions>

    <actions>
        <action id="com.jetbrains.packagesearch.intellij.plugin.actions.AddDependencyAction"
                class="com.jetbrains.packagesearch.intellij.plugin.actions.AddDependencyAction">
            <add-to-group group-id="GenerateGroup" anchor="first"/>
        </action>
    </actions>
</idea-plugin>

<idea-plugin>
  <name>Maven Integration</name>
  <id>org.jetbrains.idea.maven</id>
  <description>Provides means to import Maven pom.xml files and to run Maven goals</description>
  <version>2.0</version>
  <vendor url="http://www.jetbrains.com">JetBrains s.r.o.</vendor>
  <change-notes>
    <![CDATA[]]>
  </change-notes>
  <idea-version since-build="6800"/>

  <extensionPoints>
    <extensionPoint name="facetImporter" interface="org.jetbrains.idea.maven.facets.FacetImporter"/>
    <extensionPoint name="archetypesProvider" interface="org.jetbrains.idea.maven.indices.MavenArchetypesProvider"/>
  </extensionPoints>

  <depends optional="true" config-file="jee-support.xml">com.intellij.javaee</depends>
  <depends optional="true" config-file="gwt-support.xml">com.intellij.gwt</depends>
  <depends optional="true" config-file="flex-support.xml">com.intellij.flex</depends>
  <depends optional="true" config-file="groovy-support.xml">org.intellij.groovy</depends>

  <extensions defaultExtensionNs="com.intellij">
    <projectImportProvider implementation="org.jetbrains.idea.maven.wizards.MavenProjectImportProvider"/>
    <projectOpenProcessor implementation="org.jetbrains.idea.maven.wizards.MavenProjectOpenProcessor"/>
    <projectImportBuilder implementation="org.jetbrains.idea.maven.wizards.MavenProjectBuilder"/>
    <moduleType id="MAVEN_MODULE" implementationClass="org.jetbrains.idea.maven.wizards.MavenModuleType"/>

    <projectConfigurable implementation="org.jetbrains.idea.maven.utils.MavenSettings" order="last"/>

    <!--<stepsBeforeRunProvider implementation="org.jetbrains.idea.maven.tasks.MavenStepsBeforeRunProvider"/>-->
    <keymapExtension implementation="org.jetbrains.idea.maven.tasks.MavenKeymapExtension"/>
    <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>
    <configurationType implementation="org.jetbrains.idea.maven.runner.MavenRunConfigurationType"/>

    <compiler implementation="org.jetbrains.idea.maven.compiler.MavenResourceCompiler" order="last"/>

    <selectInTarget implementation="org.jetbrains.idea.maven.navigator.SelectInMavenNavigatorTarget"/>

    <iconProvider implementation="org.jetbrains.idea.maven.utils.MavenIconProvider"/>
    <editorTabTitleProvider implementation="org.jetbrains.idea.maven.utils.MavenEditorTabTitleProvider"/>

    <xml.elementDescriptorProvider implementation="org.jetbrains.idea.maven.dom.MavenDomElementDescriptorProvider"/>
    <dom.fileDescription implementation="org.jetbrains.idea.maven.dom.MavenDomProjectModelDescription"/>
    <dom.fileDescription implementation="org.jetbrains.idea.maven.dom.MavenDomProfilesModelDescription"/>
    <dom.fileDescription implementation="org.jetbrains.idea.maven.dom.MavenDomSettingsModelDescription"/>
    <dom.fileDescription implementation="org.jetbrains.idea.maven.dom.MavenDomPluginModelDescription"/>
    <lang.documentationProvider language="XML" implementationClass="org.jetbrains.idea.maven.dom.MavenPluginModelDocumentationProvider" order="first"/>
    <inspectionToolProvider implementation="org.jetbrains.idea.maven.dom.MavenModelInspection"/>
    <dom.extender domClass="org.jetbrains.idea.maven.dom.model.MavenDomConfiguration" extenderClass="org.jetbrains.idea.maven.dom.MavenPluginConfigurationDomExtender"/>
    <dom.extender domClass="org.jetbrains.idea.maven.dom.model.MavenDomConfigurationParameter" extenderClass="org.jetbrains.idea.maven.dom.MavenPluginConfigurationParameterDomExtender"/>

    <projectService serviceInterface="org.jetbrains.idea.maven.dom.MavenDomElementDescriptorHolder" serviceImplementation="org.jetbrains.idea.maven.dom.MavenDomElementDescriptorHolder"/>

    <intentionAction>
      <className>org.jetbrains.idea.maven.dom.intentions.ChooseFileIntentionAction</className>
    </intentionAction>

    <codeInsight.unresolvedReferenceQuickFixProvider implementation="org.jetbrains.idea.maven.dom.intentions.ResolveReferenceQuickFixProvider"/>
  </extensions>

  <application-components>
    <component>
      <implementation-class>org.jetbrains.idea.maven.dom.MavenSchemaRegistrar</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.indices.MavenIndicesManager</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.utils.MavenEnvironmentRegistrar</implementation-class>
    </component>
  </application-components>

  <project-components>
    <component>
      <implementation-class>org.jetbrains.idea.maven.project.MavenWorkspaceSettingsComponent</implementation-class>
      <option name="workspace" value="true"/>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.project.MavenProjectsManager</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.navigator.MavenProjectsNavigator</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.utils.MavenEditorTabTitleUpdater</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.runner.MavenRunner</implementation-class>
      <option name="workspace" value="true"/>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.indices.MavenProjectIndicesManager</implementation-class>
    </component>
    <component>
      <implementation-class>org.jetbrains.idea.maven.tasks.MavenTasksManager</implementation-class>
    </component>
  </project-components>

  <actions>
    <group id="Maven.Core">
      <action id="Maven.ToggleOffline"
              class="org.jetbrains.idea.maven.project.action.ToggleOfflineAction" text="Toggle Offline mode"
              description="Toggle Offline mode for Maven"
              icon="/images/offlineMode.png">
      </action>

      <action id="Maven.ToggleSkipTests"
              class="org.jetbrains.idea.maven.project.action.ToggleSkipTestsAction" text="Toggle 'Skip tests' mode"
              description="Toggle 'Skip tests' mode for Maven"
              icon="/nodes/exceptionClass.png">
      </action>

      <action id="Maven.Help"
              class="com.intellij.ide.actions.ContextHelpAction" text="Help"/>
    </group>

    <group id="Maven.NavigatorSettings">
      <action id="Maven.GroupModules"
              class="org.jetbrains.idea.maven.navigator.action.GroupModulesAction"
              text="Group Modules"
              description="Group Modules"
              icon="/nodes/folder.png"/>
      <action id="Maven.ShowIgnored"
              class="org.jetbrains.idea.maven.navigator.action.ShowIgnoredProjectsAction"
              text="Show Ignored Projects"
              description="Show Ignored Projects"
              icon="/actions/showHiddens.png"/>
      <action id="Maven.ShowBasicPhasesOnly"
              class="org.jetbrains.idea.maven.navigator.action.ShowBasicPhasesOnlyAction"
              text="Show Basic Phases Only"
              description="Show Basic Phases Only"
              icon="/images/filterPhases.png"/>
    </group>

    <group id="Maven.State">
      <action id="Maven.Ignore"
              class="org.jetbrains.idea.maven.project.action.ToggleIgnoredProjectsAction" text="_Ignore"
              description="Toggle ignore flag for Maven project">
      </action>
      <action id="Maven.ToggleProfile"
              class="org.jetbrains.idea.maven.project.action.ToggleProfileAction" text="Toggle profile"
              description="Activate/deactivate profile">
      </action>

      <action id="Maven.ShowSettings"
              class="org.jetbrains.idea.maven.project.action.EditSettingsAction" text="Maven Settings"
              description="Edit Maven integration settings for the current project"
              icon="/images/mavenSettings.png">
      </action>

      <action id="Maven.ShowTemplateSettings"
              class="org.jetbrains.idea.maven.project.action.EditTemplateSettingsAction" text="Template Maven settings"
              description="Edit template Maven integration settings"
              icon="/general/applicationSettings.png">
      </action>
    </group>

    <group id="Maven.Project">
      <action id="Maven.Reimport" class="org.jetbrains.idea.maven.project.action.ReimportAction"
              text="Re-import Maven projects" description="Re-import Maven projects into Idea project structure"
              icon="/actions/sync.png">
      </action>
      <action id="Maven.UpdateFolders" class="org.jetbrains.idea.maven.project.action.UpdateFoldersAction"
              text="Update Folders" description="Generate sources and update project folders"
              icon="/images/updateFolders.png">
      </action>
      <action id="Maven.DownloadArtifacts" class="org.jetbrains.idea.maven.project.action.DownloadArtifactsAction"
              text="Download artifacts" description="Download artifacts (sources, javadoc, plugins)"
              icon="/images/download.png">
      </action>

      <action id="Maven.AddManagedFiles" class="org.jetbrains.idea.maven.project.action.AddManagedFilesAction"
              text="Add Maven projects" description="Add Maven projects to managed files"
              icon="/general/add.png">
      </action>
      <action id="Maven.RemoveManagedFiles" class="org.jetbrains.idea.maven.project.action.RemoveManagedFilesAction"
              text="Remove Maven projects" description="Removes selected Maven projects from managed files"
              icon="/general/remove.png">
      </action>

      <action id="Maven.RunGoal"
              class="org.jetbrains.idea.maven.project.action.RunGoalAction" text="_Run Goal"
              description="Execute selected goal"
              icon="/actions/execute.png">
      </action>

    </group>

    <group id="Maven.TasksGroup">
      <action id="Maven.BeforeCompile"
              class="org.jetbrains.idea.maven.tasks.actions.BeforeCompileAction" text="Execute Before Make"
              description="Execute this goal before IntelliJ IDEA Make">
      </action>
      <action id="Maven.AfterCompile"
              class="org.jetbrains.idea.maven.tasks.actions.AfterCompileAction" text="Execute After Make"
              description="Execute this goal after IntelliJ IDEA Make">
      </action>
      <action id="Maven.BeforeRun"
              class="org.jetbrains.idea.maven.tasks.actions.BeforeRunAction" text="Execute Before Run/debug..."
              description="Execute this goal before launching Run/Debug configuration">
      </action>
      <separator/>
      <action id="Maven.AssignShortcut"
              class="org.jetbrains.idea.maven.tasks.actions.AssignShortcutAction" text="Assign Shortcut..."
              description="Assign Shortcut">
      </action>
    </group>

    <group id="Maven.NavigatorToolbar" description="Maven Projects Navigator Toolbar">
      <reference id="Maven.Reimport"/>
      <reference id="Maven.UpdateFolders"/>
      <reference id="Maven.DownloadArtifacts"/>
      <separator/>
      <reference id="Maven.AddManagedFiles"/>
      <reference id="Maven.RemoveManagedFiles"/>
      <separator/>
      <reference id="Maven.RunGoal"/>
      <separator/>
      <reference id="Maven.ShowSettings"/>
      <reference id="Maven.ShowTemplateSettings"/>
      <reference id="Maven.ToggleOffline"/>
      <reference id="Maven.ToggleSkipTests"/>
      <separator/>
      <reference id="Maven.NavigatorSettings"/>
      <separator/>
      <reference id="Maven.Help"/>
    </group>

    <group id="Maven.ProjectMenu" popup="true">
      <reference id="Maven.RunGoal"/>
      <reference ref="RunContextGroup"/>
      <separator/>
      <reference id="Maven.RemoveManagedFiles"/>
      <separator/>
      <reference id="EditSource"/>
      <reference id="Maven.Ignore"/>
    </group>

    <group id="Maven.GoalMenu" popup="true">
      <reference id="Maven.RunGoal"/>
      <reference ref="RunContextGroup"/>
      <separator/>
      <reference ref="Maven.TasksGroup"/>
    </group>

    <group id="Maven.GenerateGroup" text="Generate">
      <action id="GenerateDependency" text="Dependency" class="org.jetbrains.idea.maven.dom.generate.GenerateDependencyAction"/>
      <action id="GenerateParent" text="Parent" class="org.jetbrains.idea.maven.dom.generate.GenerateParentAction"/>
      <add-to-group group-id="GenerateGroup" anchor="last"/>
    </group>

  </actions>
</idea-plugin>

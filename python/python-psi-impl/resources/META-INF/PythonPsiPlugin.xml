<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>com.intellij</id>
  <name>IDEA CORE</name>

  <xi:include href="/META-INF/python-psi-api.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/python-psi-impl.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/core-api.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/core-impl.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/projectModel-api.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/projectModel-impl.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/analysis-api.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/analysis-impl.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="/META-INF/indexing-api.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <extensions defaultExtensionNs="com.intellij">
    <applicationService serviceInterface="com.intellij.openapi.components.impl.stores.IComponentStore"
                        serviceImplementation="com.intellij.openapi.components.impl.stores.MockPsiComponentStore"/>
    <projectService serviceInterface="com.intellij.openapi.components.impl.stores.IComponentStore"
                        serviceImplementation="com.intellij.openapi.components.impl.stores.MockPsiComponentStore"/>
    <applicationService serviceInterface="com.intellij.openapi.vfs.encoding.EncodingManager"
                        serviceImplementation="com.intellij.core.CoreEncodingProjectManager"/>
    <projectService serviceInterface="com.intellij.psi.PsiDocumentManager"
                        serviceImplementation="com.intellij.core.CorePsiDocumentManager"/>
    <applicationService serviceInterface="com.intellij.openapi.progress.ProgressManager"
                        serviceImplementation="com.intellij.openapi.progress.impl.CoreProgressManager"/>
    <projectService serviceInterface="com.intellij.lang.injection.InjectedLanguageManager"
                    serviceImplementation="com.intellij.core.CoreInjectedLanguageManager"/>
    <projectService serviceInterface="com.intellij.psi.search.ProjectScopeBuilder"
                    serviceImplementation="com.intellij.psi.search.MockPsiProjectScopeBuilder"/>
    <projectService serviceInterface="com.intellij.openapi.roots.impl.PushedFilePropertiesUpdater"
                    serviceImplementation="com.intellij.openapi.roots.impl.DummyPushedFilePropertiesUpdater"/>
    <applicationService serviceInterface="com.intellij.codeInsight.completion.CompletionService"
                        serviceImplementation="com.intellij.codeInsight.completion.SingleCompletionService"/>
    <projectService serviceInterface="com.intellij.openapi.project.DumbService"
                        serviceImplementation="com.intellij.mock.MockDumbService"/>
    <applicationService serviceInterface="com.intellij.openapi.command.CommandProcessor"
                        serviceImplementation="com.intellij.openapi.command.impl.CoreCommandProcessor"/>
    <applicationService serviceInterface="com.intellij.openapi.application.TransactionGuard"
                        serviceImplementation="com.intellij.openapi.application.TransactionGuardImpl"/>
    <projectService serviceInterface="com.intellij.codeInsight.AutoPopupController"
                    serviceImplementation="com.intellij.codeInsight.MockAutoPopupController"/>
    <applicationService serviceInterface="com.intellij.codeInsight.editorActions.TabOutScopesTracker"
                        serviceImplementation="com.intellij.openapi.editorActions.MockTabOutScopesTracker"/>
  </extensions>

  <project-components>
    <component>
      <interface-class>com.intellij.openapi.roots.ProjectRootManager</interface-class>
      <implementation-class>com.intellij.openapi.roots.impl.ProjectRootManagerImpl</implementation-class>
      <loadForDefaultProject/>
    </component>
    <component>
      <interface-class>com.intellij.openapi.module.ModuleManager</interface-class>
      <implementation-class>com.intellij.openapi.module.impl.SingleModuleManager</implementation-class>
      <loadForDefaultProject/>
    </component>
  </project-components>
</idea-plugin>
<extensions>
  <appStarter implementation="com.intellij.codeInspection.InspectionMain"/>
  <appStarter implementation="com.intellij.ide.ui.search.TraverseUIStarter"/>

  <referencesSearch implementation="com.intellij.psi.impl.search.CachesBasedRefSearcher"/>

  <applicationService serviceInterface="com.intellij.codeInsight.completion.CompletionService"
                      serviceImplementation="com.intellij.codeInsight.completion.impl.CompletionServiceImpl"/>

  <applicationService serviceInterface="com.intellij.lang.cacheBuilder.CacheBuilderRegistry"
                      serviceImplementation="com.intellij.lang.cacheBuilder.CacheBuilderRegistryImpl"/>

  <applicationService serviceInterface="com.intellij.codeInsight.intention.IntentionManager"
                      serviceImplementation="com.intellij.codeInsight.intention.impl.config.IntentionManagerImpl"/>
  <applicationService serviceInterface="com.intellij.codeInsight.lookup.LookupElementFactory"
                      serviceImplementation="com.intellij.codeInsight.lookup.LookupElementFactoryImpl"/>
  <applicationService serviceInterface="com.intellij.codeStyle.CodeStyleFacade"
                      serviceImplementation="com.intellij.psi.impl.source.codeStyle.CodeStyleFacadeImpl"/>

  <applicationService serviceInterface="com.intellij.openapi.project.ProjectLocator"
                      serviceImplementation="com.intellij.openapi.project.ProjectLocatorImpl"/>

  <applicationService serviceInterface="com.intellij.packageDependencies.DependencyUISettings"
                      serviceImplementation="com.intellij.packageDependencies.DependencyUISettings"/>

  <applicationService serviceInterface="com.intellij.ide.fileTemplates.FileTemplateManager"
                      serviceImplementation="com.intellij.ide.fileTemplates.impl.FileTemplateManagerImpl"/>
  <exportable serviceInterface="com.intellij.ide.fileTemplates.FileTemplateManager"/>

  <applicationService serviceInterface="com.intellij.ide.PsiCopyPasteManager"
                      serviceImplementation="com.intellij.ide.PsiCopyPasteManager"/>

  <applicationService serviceInterface="com.intellij.usages.UsageViewSettings"
                      serviceImplementation="com.intellij.usages.UsageViewSettings"/>
  <applicationService serviceInterface="com.intellij.refactoring.RefactoringSettings"
                      serviceImplementation="com.intellij.refactoring.RefactoringSettings"/>
  <applicationService serviceInterface="com.intellij.refactoring.RefactoringActionHandlerFactory"
                      serviceImplementation="com.intellij.refactoring.openapi.impl.RefactoringActionHandlerFactoryImpl"/>

  <applicationService serviceInterface="com.intellij.execution.filters.TextConsoleBuilderFactory"
                      serviceImplementation="com.intellij.execution.filters.TextConsoleBuilderFactoryImpl"/>

  <applicationService serviceInterface="com.intellij.lang.PsiBuilderFactory"
                      serviceImplementation="com.intellij.lang.PsiBuilderFactoryImpl"/>

  <applicationService serviceInterface="com.intellij.navigation.ChooseByNameRegistry"
                      serviceImplementation="com.intellij.navigation.ChooseByNameRegistry"/>

  <applicationService serviceInterface="com.intellij.application.options.CodeStyleSettingsUtil"
                      serviceImplementation="com.intellij.application.options.CodeStyleSettingsUtilImpl"/>

  <applicationService serviceInterface="com.intellij.ide.PsiActionSupportFactory"
                      serviceImplementation="com.intellij.ide.PsiActionSupportFactoryImpl"/>
  <applicationService serviceInterface="com.intellij.codeInspection.ex.InspectionToolRegistrar"
                      serviceImplementation="com.intellij.codeInspection.ex.InspectionToolRegistrar"/>
  <applicationService serviceInterface="com.intellij.codeInsight.template.impl.TemplateSettings"
                      serviceImplementation="com.intellij.codeInsight.template.impl.TemplateSettings"/>
  <applicationService serviceInterface="com.intellij.execution.ui.layout.impl.RunnerLayoutSettings"
                      serviceImplementation="com.intellij.execution.ui.layout.impl.RunnerLayoutSettings"/>
  <exportable serviceInterface="com.intellij.codeInsight.template.impl.TemplateSettings"/>
  
  <applicationService serviceInterface="com.intellij.facet.FacetTypeRegistry"
                      serviceImplementation="com.intellij.facet.impl.FacetTypeRegistryImpl"/>

  <applicationService serviceInterface="com.intellij.psi.meta.MetaDataRegistrar"
                      serviceImplementation="com.intellij.psi.impl.meta.MetaRegistry"/>

  <projectService serviceInterface="com.intellij.find.findInProject.FindInProjectManager"
                  serviceImplementation="com.intellij.find.findInProject.FindInProjectManager"/>
  <projectService serviceInterface="com.intellij.find.replaceInProject.ReplaceInProjectManager"
                  serviceImplementation="com.intellij.find.replaceInProject.ReplaceInProjectManager"/>
  <projectService serviceInterface="com.intellij.codeHighlighting.TextEditorHighlightingPassRegistrar"
                  serviceImplementation="com.intellij.codeInsight.daemon.impl.TextEditorHighlightingPassRegistrarImpl"/>
  <projectService serviceInterface="com.intellij.psi.PsiFileFactory"
                  serviceImplementation="com.intellij.psi.impl.PsiFileFactoryImpl"/>
  <projectService serviceInterface="com.intellij.psi.text.BlockSupport"
                  serviceImplementation="com.intellij.psi.impl.source.text.BlockSupportImpl"/>
  <projectService serviceInterface="com.intellij.psi.SmartPointerManager"
                  serviceImplementation="com.intellij.psi.impl.smartPointers.SmartPointerManagerImpl"/>
  <projectService serviceInterface="com.intellij.psi.codeStyle.CodeStyleManager"
                  serviceImplementation="com.intellij.psi.impl.source.codeStyle.CodeStyleManagerImpl"/>
  <projectService serviceInterface="com.intellij.pom.PomModel" serviceImplementation="com.intellij.pom.core.impl.PomModelImpl"/>

  <projectService serviceInterface="com.intellij.codeInsight.AutoPopupController"
                  serviceImplementation="com.intellij.codeInsight.AutoPopupController"/>

  <projectService serviceInterface="com.intellij.codeStyle.CodeStyleFacade"
                  serviceImplementation="com.intellij.psi.impl.source.codeStyle.CodeStyleFacadeImpl"/>

  <projectService serviceInterface="com.intellij.usages.UsageViewManager"
                  serviceImplementation="com.intellij.usages.impl.UsageViewManagerImpl"/>

  <projectService serviceInterface="com.intellij.analysis.AnalysisUIOptions"
                  serviceImplementation="com.intellij.analysis.AnalysisUIOptions"/>

  <projectService serviceInterface="com.intellij.ide.util.gotoByName.ChooseByNameFactory"
                  serviceImplementation="com.intellij.ide.util.gotoByName.ChooseByNameFactoryImpl"/>  

  <projectService serviceInterface="com.intellij.refactoring.listeners.RefactoringListenerManager"
                  serviceImplementation="com.intellij.refactoring.listeners.impl.RefactoringListenerManagerImpl"/>

  <projectService serviceInterface="com.intellij.util.LogicalRootsManager"
                  serviceImplementation="com.intellij.util.LogicalRootsManagerImpl"/>

  <projectService serviceInterface="com.intellij.codeEditor.printing.ExportToHTMLSettings"
                  serviceImplementation="com.intellij.codeEditor.printing.ExportToHTMLSettings"/>

  <projectService serviceInterface="com.intellij.diagnostic.logging.LogConsolePreferences"
                  serviceImplementation="com.intellij.diagnostic.logging.LogConsolePreferences"/>

  <projectService serviceInterface="com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistry"
                  serviceImplementation="com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistry"/>

  <projectService serviceInterface="com.intellij.find.FindManager"
                  serviceImplementation="com.intellij.find.impl.FindManagerImpl"/>

  <colorSettingsPage implementation="com.intellij.openapi.options.colors.pages.GeneralColorsPage"/>
  <colorSettingsPage implementation="com.intellij.openapi.options.colors.pages.CustomColorsPage"/>

  <!-- Editor -->
  <applicationConfigurable implementation="com.intellij.application.options.editor.EditorOptions"/>

  <!-- Colors & Fonts-->
  <applicationConfigurable implementation="com.intellij.application.options.colors.ColorAndFontOptions"/>

  <!-- Global Code Style -->
  <applicationConfigurable implementation="com.intellij.application.options.CodeStyleSchemesConfigurable"/>

  <!-- File Types -->
  <applicationConfigurable implementation="com.intellij.openapi.fileTypes.impl.FileTypeConfigurable"/>

  <applicationConfigurable implementation="com.intellij.codeInsight.intention.impl.config.IntentionSettingsConfigurable"/>

  <!-- Live Templates -->
  <applicationConfigurable implementation="com.intellij.codeInsight.template.impl.LiveTemplatesConfigurable"/>

  <!-- File Templates-->
  <applicationConfigurable implementation="com.intellij.ide.fileTemplates.impl.AllFileTemplatesConfigurable"/>

  <!-- T.O.D.O -->
  <applicationConfigurable implementation="com.intellij.ide.todo.configurable.TodoConfigurable"/>

  <!-- External Tools -->
  <applicationConfigurable implementation="com.intellij.tools.ToolConfigurable"/>

  <!-- Local History -->
  <applicationConfigurable implementation="com.intellij.history.integration.ui.views.LocalHistoryConfigurable"/>

  <!-- Errors -->
  <projectConfigurable implementation="com.intellij.profile.codeInspection.ui.ErrorOptionsConfigurable"/>

  <!-- Project Code Style -->
  <projectConfigurable implementation="com.intellij.application.options.ProjectCodeStyleConfigurable"/>

  <lang.parserDefinition language="TEXT" implementationClass="com.intellij.openapi.fileTypes.PlainTextParserDefinition"/>
  <lang.syntaxHighlighterFactory language="TEXT" implementationClass="com.intellij.openapi.fileTypes.PlainSyntaxHighlighterFactory"/>
  <lang.ast.factory language="TEXT" implementationClass="com.intellij.psi.impl.source.tree.PlainTextASTFactory"/>

  <getDataRule key="psi.File" implementationClass="com.intellij.ide.impl.dataRules.PsiFileRule"/>
  <getDataRule key="psi.Element" implementationClass="com.intellij.ide.impl.dataRules.PsiElementFromSelectionRule"/>
  <getDataRule key="psi.pasteTargetElement" implementationClass="com.intellij.ide.impl.dataRules.PasteTargetRule"/>
  <getDataRule key="virtualFile" implementationClass="com.intellij.ide.impl.dataRules.VirtualFileRule"/>
  <getDataRule key="virtualFileArray" implementationClass="com.intellij.ide.impl.dataRules.VirtualFileArrayRule"/>
  <getDataRule key="Navigatable" implementationClass="com.intellij.ide.impl.dataRules.NavigatableRule"/>
  <getDataRule key="usageTarget" implementationClass="com.intellij.ide.impl.dataRules.UsageTargetsRule"/>
  <getDataRule key="UsageInfo.List" implementationClass="com.intellij.ide.impl.dataRules.UsageInfo2ListRule"/>
  <getDataRule key="module" implementationClass="com.intellij.ide.impl.dataRules.ModuleRule"/>

  <dataValidator key="psi.File" implementationClass="com.intellij.ide.impl.PsiElementDataValidator"/>
  <dataValidator key="psi.Element" implementationClass="com.intellij.ide.impl.PsiElementDataValidator"/>
  <dataValidator key="psi.Element.array" implementationClass="com.intellij.ide.impl.PsiElementArrayDataValidator"/>

  <patternDialectProvider implementation="com.intellij.packageDependencies.ui.ProjectPatternProvider"/>
  <customScopesProvider implementation="com.intellij.packageDependencies.DefaultScopesProvider"/>

  <highlightVisitor implementation="com.intellij.codeInsight.daemon.impl.analysis.DefaultHighlightVisitor"/>
  <keymapExtension implementation="com.intellij.ide.bookmarks.BookmarkKeymapExtension"/>

  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.CurrentDateMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.CurrentTimeMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.CurrentUserMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.CapitalizeMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.DecapitalizeMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.FirstWordMacro"/>
  <liveTemplateMacro implementation="com.intellij.codeInsight.template.macro.LineNumberMacro"/>

  <fileBasedIndex implementation="com.intellij.psi.impl.cache.impl.todo.TodoIndex" />
  <fileBasedIndex implementation="com.intellij.psi.impl.cache.impl.id.IdIndex" />
  <fileBasedIndex implementation="com.intellij.psi.search.FilenameIndex"/>
  <fileBasedIndex implementation="com.intellij.psi.stubs.StubUpdatingIndex"/>

  <syntaxHighlighter factoryClass="com.intellij.openapi.fileTypes.LanguageFileTypeHighlighterProvider"/>
  <structureViewBuilder factoryClass="com.intellij.ide.highlighter.LanguageFileTypeStructureViewBuilderProvider"/>

  <lang.elementManipulator forClass="com.intellij.psi.PsiPlainTextFile" implementationClass="com.intellij.psi.impl.source.resolve.reference.impl.manipulators.PlainFileManipulator"/>
  <lang.elementManipulator forClass="com.intellij.psi.PsiComment" implementationClass="com.intellij.psi.impl.source.resolve.reference.impl.manipulators.PsiCommentManipulator"/>

  <applicationService serviceInterface="com.intellij.ide.macro.MacroManager" serviceImplementation="com.intellij.ide.macro.MacroManager"/>
  <hectorComponentProvider implementation="com.intellij.codeInsight.daemon.impl.FileIncludeContextHectorProvider" />

  <programRunner implementation="com.intellij.tools.ToolProgramRunner"/>

  <ideRootPaneNorth implementation="com.intellij.ide.navigationToolbar.NavBarRootPaneExtension"/>
  <navbar implementation="com.intellij.ide.navigationToolbar.DefaultNavBarExtension"/>

  <statistician key="completion" implementationClass="com.intellij.codeInsight.completion.DefaultCompletionStatistician" order="last"/>

  <weigher key="proximity" implementationClass="com.intellij.psi.util.proximity.OpenedInEditorWeigher" id="openedInEditor"/>
  <weigher key="proximity" implementationClass="com.intellij.psi.util.proximity.SameModuleWeigher" id="sameModule" order="after openedInEditor"/>
  <weigher key="proximity" implementationClass="com.intellij.psi.util.proximity.SameProjectWeigher" id="sameProject" order="after sameModule"/>
  <weigher key="proximity" implementationClass="com.intellij.psi.util.proximity.SdkOrLibraryWeigher" id="sdkOrLibrary" order="after sameProject"/>

  <weigher key="completion" implementationClass="com.intellij.codeInsight.completion.NegativeStatisticsWeigher" id="negativeStats" order="first"/>
  <weigher key="completion" implementationClass="com.intellij.codeInsight.completion.StatisticsWeigher" id="stats" order="after negativeStats"/>
  <weigher key="completion" implementationClass="com.intellij.codeInsight.completion.PrefixMatchingWeigher" id="prefix" order="after stats"/>
  <weigher key="completion" implementationClass="com.intellij.codeInsight.completion.LookupElementProximityWeigher" id="proximity" order="after prefix"/>

  <weigher key="preferredCompletionItem" implementationClass="com.intellij.codeInsight.completion.PrefixMatchingWeigher" id="prefix" order="first"/>

  <completion.contributor implementation="com.intellij.codeInsight.completion.DefaultCompletionContributor" id="default" order="last"/>
  <completion.contributor implementation="com.intellij.codeInsight.completion.LegacyCompletionContributor" id="legacy" order="last"/>
  <lookup.charFilter implementation="com.intellij.codeInsight.completion.CompletionCharFilter" order="last"/>
  <lookup.charFilter implementation="com.intellij.refactoring.IdentifierCharFilter" id="identifier"/>

  <gotoFileContributor implementation="com.intellij.ide.util.gotoByName.DefaultFileNavigationContributor"/>

  <selectInTarget implementation="com.intellij.ide.navigationToolbar.SelectInNavBarTarget"/>
  <selectInTarget implementation="com.intellij.ide.impl.StructureViewSelectInTarget"/>

  <elementLookupRenderer implementation="com.intellij.codeInsight.template.impl.TemplateLookupRenderer"/>

  <customPasteProvider implementation="com.intellij.ide.actions.PasteReferenceProvider"/>

  <usageFilteringRuleProvider implementation="com.intellij.usages.impl.UsageFilteringRuleProviderImpl"/>
  <usageGroupingRuleProvider implementation="com.intellij.usages.impl.UsageGroupingRuleProviderImpl"/>

  <projectService serviceInterface="com.intellij.psi.templateLanguages.TemplateDataLanguageMappings" serviceImplementation="com.intellij.psi.templateLanguages.TemplateDataLanguageMappings"/>
  <projectConfigurable implementation="com.intellij.psi.templateLanguages.TemplateDataLanguageConfigurable"/>

  <errorQuickFixProvider implementation="com.intellij.psi.templateLanguages.TemplateLanguageErrorQuickFixProvider"/>

  <!-- execution -->
  <executor implementation="com.intellij.execution.executors.DefaultRunExecutor" order="first" id="run"/>

  <findUsagesHandlerFactory implementation="com.intellij.find.findUsages.DefaultFindUsagesHandlerFactory" id="default" order="last"/>

  <cutElementMarker implementation="com.intellij.ide.PsiCutElementMarker"/>

  <extendWordSelectionHandler implementation="com.intellij.codeInsight.editorActions.wordSelection.PlainTextLineSelectioner"/>

  <syntaxHighlighter factoryClass="com.intellij.ide.highlighter.custom.impl.CustomFileTypeHighlighterProvider"/>
  <fileTypeRegistrator implementation="com.intellij.ide.highlighter.custom.impl.StandardFileTypeRegistrator"/>

  <directoryProjectConfigurator implementation="com.intellij.platform.PlatformProjectConfigurator" order="first" id="PlatformProjectConfigurator"/>
  <directoryProjectConfigurator implementation="com.intellij.platform.PlatformProjectViewOpener"/>
</extensions>
